---
import PostsList from "../ui/PostsList";
import Post from "../ui/Post.astro";
import type { PostIndexItem } from "../../types/post";
 
// Accept posts from the parent page (server-side fetched in /pages/blog.astro)
const { posts } = Astro.props as { posts: PostIndexItem[] };
 
---
<section class="content-section blog-section">
  <h2 id="blog" class="page-h2">Blog</h2>
 
  <div class="posts-container">
    <!-- Client island: controls, filtering, and pagination only -->
    <PostsList client:load initialItems={posts} />
    <!-- Server-rendered list for SEO & initial markup. Each Post renders an <li data-slug="...">.
         The client island controls visibility of these server nodes to implement pagination/filters. -->
    <ul class="post-list" role="list">
      {posts.map((post) => (
        <Post item={post} />
      ))}
    </ul>

    <!-- Pagination placeholder: the PostsList island will render interactive pagination
         controls here so they appear visually below the posts list. -->
    <div class="posts-pagination-placeholder"></div>
  </div>
</section>
 
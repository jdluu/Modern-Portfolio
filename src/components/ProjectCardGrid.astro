---
import TempCard from "./ProjectCard.astro";
import { getAllProjectCards } from '../lib/cosmic'

const data = await getAllProjectCards()
---

<section class="content-section">
    <h2 id="projects" class="page-h2">Projects</h2>
    <p class="section-desc">
        <strong>Check out some of my most recent projects!</strong>
    </p>
    <div class="card-grid">
        {
            data.map((card) => (
                <TempCard
                    title={card.title}
                    intro={card.metadata.description}
                    thumbnail={card.metadata.thumbnail.url}
                    url={card.slug}
                />
            ))
        }
    </div>
</section>

<style>
    .page-h2 {
        font-size: var(--font-large);
        font-family: var(--font-heading);
        margin-top: 0.5rem;
        margin-bottom: 0.5rem;
        text-align: center;
        text-decoration: underline;
        color: var(--text-color);
    }

    @media screen and (max-width: 768px) {
        .page-h2 {
            font-size: var(--font-medium);
        }
    }

    .section-desc {
        font-size: 1.5rem;
        margin-bottom: 1rem;
        text-align: center;
    }
    .card-grid {
        max-width: 75%;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-gap: 2rem;
        margin-left: auto;
        margin-right: auto;
    }
    @media screen and (max-width: 1024px) {
        .card-grid {
            justify-content: center;
            align-items: center;
            grid-template-columns: repeat(2, 1fr);
            grid-gap: 1rem;
            padding: 0 0 2rem;
        }
    }
    @media screen and (max-width: 768px) {
        .card-grid {
            justify-content: center;
            align-items: center;
            grid-template-columns: repeat(1, 1fr);
            grid-gap: 1rem;
            padding: 0 0 2rem;
        }
    }
</style>

---
/* Frontmatter: imports, Props, prop destructuring */
import { Image } from 'astro:assets';
import type { ProjectCardProps } from '@/src/types/project-card';

export interface Props extends ProjectCardProps {}

const { title, intro, url, thumbnail } = Astro.props;

const baseId = ((Astro.props as any)?.slug || url || title)
  .toString()
  .toLowerCase()
  .replace(/[^a-z0-9]+/g, "-");
const titleId = `project-${baseId}`;
const ctaExtraId = `${titleId}-cta`;
---

<!-- Markup: structure and class names preserved exactly -->
<section class="project-card background" role="group" aria-labelledby={titleId}>
	<Image
		src={thumbnail}
		alt={title}
		width={800}
		height={500}
		loading="eager"
		decoding="async"
		class="project-image"
		format="webp"
	/>
	<div class="project-container">
		<section class="more-info">
			<h3 class="project-title" id={titleId}>{title}</h3>
			<p class="project-description">
				{intro}
			</p>
		</section>
		<a
			class="learn-more"
			href={`/projects/${url}`}
			aria-labelledby={`${titleId} ${ctaExtraId}`}
		>
			Learn More
		</a>
		<span id={ctaExtraId} class="visually-hidden">Open project</span>
	</div>
</section>

/* Purple accent color for both themes */
:root {
  --purple-accent: var(--m3-color-secondary); /* Dark purple for light theme */
  --content-max-width: 55rem; /* unify content width so header and info-row align (narrower column) */
}
[data-theme="dark"] {
  --purple-accent: var(--m3-color-primary); /* Light violet for dark theme */
}
/* Layout & Container Styles */
.experience-page-container {
  max-width: 75rem;
  margin: 0 auto;
  padding: var(--space-m); /* overall page padding */
  padding-top: var(
    --space-xs
  ); /* tighten top padding to reduce white space under nav/title */
}

.experience-page-div {
  /* Convert page wrapper to a single centered vertical column:
       - stacked layout on all viewports
       - constrained by --content-max-width and centered
       - use gap token for consistent section spacing */
  display: flex;
  flex-direction: column;
  width: 100%;
  max-width: var(--content-max-width);
  margin: 0 auto;
  gap: var(--space-xl);
  align-items: stretch;
}

.main-content {
  /* Align main column width with the info-row/content width so blocks line up horizontally */
  max-width: var(--content-max-width);
  margin-left: auto;
  margin-right: auto;
  padding-left: 0;
  padding-right: 0;
  box-sizing: border-box;
}

/* Header Styles */
.experience-header {
  /* Increase header spacing to create consistent vertical rhythm between sections */
  margin-bottom: var(--space-m);
  padding-bottom: 0;
  border-bottom: none;
}

/* Constrain the header inner content to the same content width as the info-row so
   horizontal start/end edges align. Also remove extra internal padding so cards sit tight. */
.company-info {
  max-width: var(--content-max-width);
  margin-left: auto;
  margin-right: auto;
  padding-left: 0;
  padding-right: 0;
  box-sizing: border-box;
}

.company-info {
  display: flex;
  align-items: flex-start;
  gap: var(--space-s-m);
  margin-bottom: var(
    --space-xs
  ); /* reduce space between header and following content */
}

.company-logo {
  width: var(--space-3xl);
  height: var(--space-3xl);
  object-fit: contain;
  border-radius: var(--space-xs);
  background: white;
  padding: var(--space-xs);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.06);
  flex-shrink: 0;
}

.title-container {
  flex: 1;
  min-width: 0;
}

.experience-title {
  font-size: var(--step-4);
  margin: 0;
  color: var(--text-color);
  line-height: 1.2;
  word-wrap: break-word;
  font-family: var(--font-heading);
  font-weight: 700;
}

.company-name {
  font-size: var(--step-2);
  color: var(--text-color);
  margin: var(--space-2xs) 0;
  word-wrap: break-word;
}
/* Info row and card styles (mirroring projects mobile layout)
   Desktop: make the info-row span the full content width so Role + Topics/Technologies
   appear directly beneath the title. Internally the row is two columns (left=role, right=topics).
   Mobile media queries below still stack these columns into one full-width column. */
.info-row {
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(17.5rem, 22.5rem);
  gap: var(--grid-gap-md);
  margin: var(--space-l) 0;
  align-items: start;
  grid-column: 1 / -1; /* span full width so the row sits directly under the header on desktop */
  /* On desktop we will align the info-row with the main content using the desktop media rules below. */
}

.card {
  padding: var(--space-m);
  background: var(--color-card);
  border-radius: var(--space-s);
  box-shadow: 0 var(--space-xs) var(--space-xl)
    color-mix(in oklab, black 6%, transparent);
  border: 1px solid color-mix(in oklab, var(--color-border) 14%, transparent);
  margin-bottom: var(--space-m);
}

.role-heading {
  margin: 0 0 var(--space-xs);
  font-weight: 700;
  font-size: var(--step-1);
}
.role-body {
  color: var(--color-text-secondary);
  font-size: var(--step-1);
  line-height: 1.65;
}

/* Technologies & Tools grid inside card */
.tt-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-xs);
  align-items: start;
  margin-top: var(--space-3xs);
}
.tt-column {
  min-width: 0;
  padding: 0;
}
.tt-subheading {
  margin: 0 0 var(--space-2xs);
  font-size: var(--step--1);
  font-weight: 600;
  color: var(--text-color);
}

/* Pill list styles for tech/tools */
.tech-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-xs);
}
.tech-list li {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs);
  color: var(--color-text-secondary);
  margin: 0;
  padding: 0;
  flex: 0 0 auto; /* prevent list items from stretching; allow wrapping to new row */
  max-width: 100%;
  overflow: visible;
  /* allow long words to break inside pills when needed */
  word-break: break-word;
  overflow-wrap: anywhere;
}
.tech-pill {
  display: inline-block;
  padding: var(--space-3xs) var(--space-xs);
  background: color-mix(in oklab, var(--color-accent) 9%, transparent);
  border-radius: 999px;
  font-size: var(--step--1); /* slightly smaller to improve density */
  color: var(--text-color);
  line-height: 1;
}

/* Desktop: show a subtle vertical divider between the two columns and add breathing room */
@media (min-width: 981px) {
  .tt-column + .tt-column {
    padding-left: var(--space-m);
    border-left: 1px solid
      color-mix(in oklab, var(--color-border) 12%, transparent);
    margin-left: 0;
  }
  /* Slightly offset the subheading so it visually anchors to its column */
  .tt-subheading {
    margin-left: 0;
  }
}

/* Small screens: stack into a single column and remove divider */
@media (max-width: 560px) {
  .tt-grid {
    grid-template-columns: 1fr;
    gap: var(--space-s);
  }

  .tt-column + .tt-column {
    border-left: none;
    padding-left: 0;
  }

  .tech-pill {
    font-size: var(--step--1);
    padding: var(--space-3xs) var(--space-xs);
  }
}

/* Sidebar Styles */
.sidebar-card {
  background: var(--m3-color-surface-variant);
  padding: var(--space-l);
  border-radius: var(--space-s);
  margin-bottom: var(--space-l);
}

.experience-meta {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-m);
  align-items: flex-start;
}

.meta-item {
  display: flex;
  flex-direction: column;
  gap: var(--space-2xs);
}

.meta-label {
  font-size: var(--step--1);
  color: var(--text-color);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-weight: 700;
}

.meta-value {
  color: var(--text-color);
  line-height: 1.5;
  font-size: var(--step-1);
}

/* Section Content */
.section-content {
  font-size: var(--step-1);
  line-height: 1.6;
  color: var(--text-color);
  margin: var(--space-l) 0;
}

.tech-section {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-l);
}

.tech-item h4 {
  font-size: var(--step-1);
  margin-bottom: var(--space-s);
  color: var(--text-color);
  font-family: var(--font-heading);
}

.tech-item p {
  color: var(--text-color);
  line-height: 1.6;
  word-wrap: break-word;
  font-size: var(--step-1);
}

/* Text-based styles for tools and skills lists */
.tech-text {
  color: var(--text-color);
  line-height: 1.7;
  word-wrap: break-word;
  font-size: var(--step-1);
}

/* Lists Styles */
.responsibilities-list,
.achievements-list {
  list-style: none;
  padding: 0;
  margin: var(--space-m) 0;
}

.responsibilities-list li,
.achievements-list li {
  position: relative;
  padding-left: var(--space-m);
  margin-bottom: var(--space-m);
  font-size: var(--step-1);
  line-height: 1.7;
  color: var(--text-color);
}

.responsibilities-list li::before {
  content: "•";
  position: absolute;
  left: 0;
  color: var(--accent-color);
}

.achievements-list li::before {
  content: "★";
  position: absolute;
  left: 0;
  color: var(--accent-color);
}

/* Section Titles */
.main-content h2 {
  padding-top: var(--space-l);
  border-top: 1px dashed
    color-mix(in oklab, var(--m3-color-outline) 40%, transparent);
  font-size: var(--step-4);
  color: var(--text-color);
  margin: var(--space-xl) 0 var(--space-m);
  font-family: var(--font-heading);
  font-weight: 600;
}

.sidebar-card h3 {
  font-size: var(--step-2);
  margin-bottom: var(--space-m);
}

/* Responsive Styles */
/* Sidebar: default to non-sticky so it flows naturally in document order.
   The header will span both columns so it remains visually first. */
.sidebar-content {
  position: static;
  align-self: start;
}

/* Header column spanning is applied only on narrow viewports (see mobile media queries).
   Removed the global span so the header no longer forces the sidebar to sit below it on desktop. */
/* Chip hover/focus states */
.chip:hover,
.chip:focus-visible {
  background: var(--m3-color-primary);
  color: var(--m3-color-on-primary);
  border-color: var(--m3-color-primary);
}
@media (max-width: 992px) {
  .experience-page-div {
    grid-template-columns: 1fr; /* Stack columns */
  }

  /* Mobile ordering: header first, then info-row (Role + Topics/Technologies),
       then the main narrative (responsibilities/achievements), then optional sidebar/showcase.
       Aggressively tighten vertical spacing between the info-row and the next section. */
  .experience-header {
    grid-row: 1;
    grid-column: 1 / -1;
  }

  .info-row {
    grid-row: 2;
    grid-column: 1 / -1;
    margin-bottom: var(
      --space-xs
    ); /* much smaller gap below info-row on mobile */
  }

  .main-content {
    grid-row: 3;
    grid-column: 1 / -1;
  }

  /* Reduce the default top spacing of section headings on mobile so responsibilities sit closer */
  .main-content h2 {
    padding-top: var(--space-xs);
    margin-top: var(--space-xs);
  }

  /* Also reduce card bottom margins within the info-row on mobile */
  .info-row .card {
    margin-bottom: var(--space-xs);
  }

  .sidebar-content {
    grid-row: 4;
    grid-column: 1 / -1;
  }
}

@media (max-width: 768px) {
  .experience-page-container {
    padding: var(--space-m);
  }

  .company-info {
    gap: var(--space-m);
  }
}

/* Desktop-only alignment helpers:
   Ensure header, info-row and main content use the same left/right offsets so their
   visual left edges align exactly. These rules apply only on larger viewports and
   will not change the mobile stacking behavior. */
@media (min-width: 981px) {
  /* Desktop: unify content gutter so header, the info-row and main content align exactly.
     Apply a single content width and center it; internal grid columns control left/right split. */
  .company-info,
  .info-row,
  .main-content {
    max-width: var(--content-max-width);
    margin: 0 auto;
    padding-left: 0;
    padding-right: 0;
    box-sizing: border-box;
  }

  /* Use a 2fr / sidebar layout inside the info-row on desktop */
  .info-row {
    grid-template-columns: 2fr minmax(17.5rem, 22.5rem);
  }

  /* Slightly tighten internal card padding for desktop density */
  .info-row .card {
    padding: var(--space-m);
  }
}

@media (max-width: 480px) {
  /* Reduce overall vertical rhythm on phones to match project page density */
  .experience-page-container {
    padding: var(--space-xs);
  }

  /* Tighten header spacing so the title sits closer to the info-row */
  .experience-header {
    margin-bottom: var(--space-3xs);
    padding-bottom: 0;
  }

  .company-info {
    gap: var(--space-xs);
    margin-bottom: var(--space-xs);
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .title-container {
    text-align: center;
  }

  /* Info-row: reduce vertical spacing and card padding for compact cards like projects page */
  .info-row {
    margin: var(--space-xs) 0;
    gap: var(--space-xs);
  }

  .card {
    padding: var(--space-s);
    margin-bottom: var(--space-xs);
    border-radius: 10px;
  }

  /* Tighten technology pill layout on phones to reduce large whitespace */
  .tt-grid {
    gap: var(--space-xs);
  }
  .tech-list {
    gap: var(--space-xs);
  }
  .tech-pill {
    font-size: var(--step--1);
    padding: var(--space-3xs) var(--space-xs);
  }

  /* Sidebar remains non-sticky on mobile */
  .sidebar-content {
    position: static;
    align-self: start;
  }

  /* Center small meta items in compact view */
  .meta-item {
    text-align: center;
  }

  /* Print styles (resume-friendly) */
  @media print {
    .sidebar-content {
      position: static !important;
    }
    .toc,
    nav,
    header,
    footer {
      display: none !important;
    }
    .sidebar-card {
      break-inside: avoid;
    }
    body {
      background: white;
      color: black;
    }
    .chip {
      background: var(--m3-color-surface) !important;
      border-color: var(--m3-color-outline) !important;
    }
  }
}
/* Typography enhancements */
.highlight {
  color: var(--m3-color-on-surface);
  font-weight: 500;
}
.lead {
  font-size: var(--step-1);
  margin-bottom: var(--space-l);
}
strong {
  color: var(--m3-color-on-surface);
  font-weight: 600;
}

/* Small utilities */
.kv {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.kv dt {
  font-weight: 700;
  font-size: var(--step--1);
}

.kv dd {
  margin: 0;
  color: var(--color-text-secondary);
  font-size: var(--step-1);
}
